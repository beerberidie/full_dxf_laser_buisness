# ============================================================================
# Laser OS - Environment Configuration
# ============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Flask Configuration
# ----------------------------------------------------------------------------
FLASK_ENV=development
# IMPORTANT: Change this in production! Use a strong random key
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=dev-secret-key-change-in-production-IMPORTANT

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
DATABASE_PATH=data/laser_os.db

# ----------------------------------------------------------------------------
# File Storage Configuration
# ----------------------------------------------------------------------------
UPLOAD_FOLDER=data/files
DOCUMENTS_FOLDER=data/documents
# Maximum upload size in bytes (default: 50MB = 52428800 bytes)
MAX_UPLOAD_SIZE=52428800

# ----------------------------------------------------------------------------
# Company Settings
# ----------------------------------------------------------------------------
COMPANY_NAME=Laser OS
TIMEZONE=Africa/Johannesburg
OPERATING_HOURS=Mon-Thu 07:00-16:00, Fri 07:00-14:30

# ----------------------------------------------------------------------------
# Business Rules
# ----------------------------------------------------------------------------
# Default SLA (Service Level Agreement) in days
DEFAULT_SLA_DAYS=3
# Low stock threshold for inventory alerts
LOW_STOCK_THRESHOLD=3
# Days after POP (Proof of Payment) received to schedule cutting
POP_DEADLINE_DAYS=3

# ----------------------------------------------------------------------------
# Email Configuration (Phase 9 - Communications Module)
# ----------------------------------------------------------------------------
# SMTP Server Settings
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USE_SSL=False

# Email Credentials
# For Gmail: Use App Password (not your regular password)
# Generate at: https://myaccount.google.com/apppasswords
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password-here

# Default sender email address
MAIL_DEFAULT_SENDER=noreply@laseros.local

# Maximum emails per SMTP connection (rate limiting)
MAIL_MAX_EMAILS=50

# ----------------------------------------------------------------------------
# Scheduling Configuration (Phase 9)
# ----------------------------------------------------------------------------
# Maximum working hours per day for capacity planning
MAX_HOURS_PER_DAY=8

# ----------------------------------------------------------------------------
# WhatsApp Configuration (Phase 9 - Future Integration)
# ----------------------------------------------------------------------------
# Placeholder for future WhatsApp Business API integration
# WHATSAPP_API_KEY=your-api-key-here
# WHATSAPP_PHONE_NUMBER=+1234567890

# ----------------------------------------------------------------------------
# Notification Configuration (Phase 9 - Future Enhancement)
# ----------------------------------------------------------------------------
# Placeholder for future notification system
# NOTIFICATION_ENABLED=True
# NOTIFICATION_CHANNELS=email,whatsapp,in-app

# ----------------------------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------------------------
# Session cookie settings
SESSION_COOKIE_SECURE=False  # Set to True in production with HTTPS
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# Permanent session lifetime in seconds (default: 7 days)
PERMANENT_SESSION_LIFETIME=604800

# Maximum login attempts before account lockout
MAX_LOGIN_ATTEMPTS=5

# Account lockout duration in minutes
LOCKOUT_DURATION_MINUTES=30

# ----------------------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------------------
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=logs/laser_os.log

# Maximum log file size in bytes (10MB default)
LOG_MAX_BYTES=10485760

# Number of backup log files to keep
LOG_BACKUP_COUNT=10

# ----------------------------------------------------------------------------
# Pagination Configuration
# ----------------------------------------------------------------------------
# Number of items per page in list views
ITEMS_PER_PAGE=20

# Number of communications per page
COMMUNICATIONS_PER_PAGE=25

# ----------------------------------------------------------------------------
# Development Only Settings
# ----------------------------------------------------------------------------
# Enable SQL query logging (development only - set to False in production)
SQLALCHEMY_ECHO=False

# Enable template auto-reload (development only)
TEMPLATES_AUTO_RELOAD=True

# ============================================================================
# Production Deployment Checklist
# ============================================================================
#
# Before deploying to production, ensure you have:
#
# ✅ Changed SECRET_KEY to a strong random value (use secrets.token_hex(32))
# ✅ Set FLASK_ENV to 'production'
# ✅ Configured MAIL_SERVER, MAIL_USERNAME, MAIL_PASSWORD with valid credentials
# ✅ Set SESSION_COOKIE_SECURE to True (requires HTTPS)
# ✅ Set LOG_LEVEL to WARNING or ERROR
# ✅ Set SQLALCHEMY_ECHO to False
# ✅ Verified .env is in .gitignore and NOT committed to version control
# ✅ Set up automated database backups (see scripts/backup_database.py)
# ✅ Configured proper file permissions on .env (chmod 600 on Linux/Mac)
# ✅ Tested email sending functionality
# ✅ Reviewed all business rules (POP_DEADLINE_DAYS, MAX_HOURS_PER_DAY, etc.)
#
# Security Best Practices:
# - Use environment-specific .env files (.env.production, .env.staging)
# - Store sensitive credentials in a secure vault (e.g., AWS Secrets Manager)
# - Rotate SECRET_KEY periodically
# - Use strong, unique passwords for MAIL_PASSWORD
# - Enable HTTPS/TLS for all production traffic
# - Regularly update dependencies (pip list --outdated)
#
# ============================================================================
